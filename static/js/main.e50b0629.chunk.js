(this.webpackJsonpfilm=this.webpackJsonpfilm||[]).push([[0],{15:function(e,t,s){},20:function(e,t,s){"use strict";s.r(t);var c=s(2),a=s.n(c),i=s(9),n=s.n(i),r=(s(15),s(4));function l(e,t,s){var c="search"===e?"https://www.omdbapi.com/?apikey=63655755&s=".concat(t.query,"&page=").concat(t.page):"title"===e?"https://www.omdbapi.com/?apikey=63655755&i=".concat(t.id):"https://www.omdbapi.com/?apikey=63655755&s=".concat(t.query,"&page=").concat(t.page);fetch(c).then((function(e){if(e.ok)return e.json();throw new Error})).then((function(c){if("False"===c.Response)throw new Error;"search"===e?(s.success("success"),s.results(c.Search),s.total(c.totalResults),s.page(t.page)):"title"===e&&s(c)})).catch((function(t){"search"===e?s.success("fail"):"title"===e&&s("No info available.")}))}var o=s(0);function u(e){var t=function(){e.setters.searched(e.query),e.setters.success("load"),l("search",{query:e.query,page:1},e.setters)};return Object(o.jsxs)("div",{id:"search",children:[Object(o.jsx)("input",{type:"text",id:"search-box",onChange:function(t){e.setters.query(t.target.value)},onKeyDown:function(e){13===e.keyCode&&t()}}),Object(o.jsx)("button",{id:"search-button",type:"button",onClick:t,children:"Search"})]})}function d(e){var t="object"===typeof e.selected,s=[],c="",a="",i="";if("object"===typeof e.selected){var n=e.selected,r=n.Director,l=n.Writer,u=n.Actors,d=n.Rated,j=n.Runtime,f=n.Genre,b=n.Language,h=n.Country,g=n.Plot,p=n.imdbRating,m=n.imdbVotes;c=e.selected.Title,a=e.selected.Year,i=e.selected.Poster,s=[["Director",r],["Writer(s)",l],["Actors",u],["Rated",d],["Runtime",j],["Language",b],["Country",h],["Genre",f],["IMDB Rating",p+" (based on "+m+" votes)"],["Plot",g]]}return Object(o.jsxs)("div",{id:"detailed-results",onClick:null,children:[Object(o.jsx)("i",{className:"fas fa-times-circle",id:"exit-details"}),!t&&Object(o.jsx)("p",{children:e.selected}),t&&Object(o.jsx)("img",{src:i,alt:"film poster"}),t&&Object(o.jsxs)("div",{id:"detailed-info",children:[Object(o.jsx)("h2",{children:c}),Object(o.jsx)("h3",{children:a}),Object(o.jsx)("ul",{id:"detailed-info-list",children:s.map((function(e,t){return Object(o.jsxs)("li",{className:"detailed-info-item",children:[Object(o.jsxs)("b",{children:[e[0],":"]})," ",e[1]]},t)}))})]})]})}function j(e){return Object(o.jsxs)("div",{id:e.index,className:"result-item",onClick:e.toggleDetails,children:[Object(o.jsx)("img",{src:e.elem.Poster,alt:"film poster",className:"result-image"}),Object(o.jsx)("p",{className:"result-title",children:e.elem.Title}),Object(o.jsx)("p",{className:"result-year",children:e.elem.Year})]})}function f(e){var t=a.a.useState(!1),s=Object(r.a)(t,2),c=s[0],i=s[1],n=a.a.useState({}),u=Object(r.a)(n,2),f=u[0],b=u[1],h=function(t){"detailed-results"!==t.target.id&&("overlay"===t.target.id||"exit-details"===t.target.id?(b({}),i(!1)):(l("title",{id:e.info.results[t.target.id].imdbID},b),i(!0)))},g=20*e.info.page-19,p=20*e.info.page>e.info.total?e.info.total:20*e.info.page,m="success"===e.info.success?"Showing results ".concat(g,"-").concat(p," of ").concat(e.info.total,' for "').concat(e.info.searched,'"'):"fail"===e.info.success?"No results found.":"initial"===e.info.success?"Search films by title.":"";return Object(o.jsxs)("main",{id:"results",children:["load"===e.info.success&&Object(o.jsx)("img",{src:"https://s4.gifyu.com/images/808.gif",alt:"loading...",id:"load"}),Object(o.jsx)("p",{id:"current-description",children:m}),"success"===e.info.success&&Object(o.jsxs)("div",{id:"labels",className:"result-item",children:[Object(o.jsx)("h2",{className:"result-image",children:"Poster"}),Object(o.jsx)("h2",{className:"result-title",children:"Title"}),Object(o.jsx)("h2",{className:"result-author",children:"Year"})]}),"success"===e.info.success&&e.info.results.map((function(e,t){return Object(o.jsx)(j,{index:t,elem:e,toggleDetails:h},t)})),c&&Object(o.jsx)("div",{id:"overlay",onClick:h,children:Object(o.jsx)(d,{selected:f})})]})}var b=s(21),h=s(22);function g(e){var t="\xab"===e.label?1:"\xbb"===e.label?e.final:e.label;return Object(o.jsx)(b.a,{className:e.current===e.label?"page-item active":"page-item",children:Object(o.jsx)(h.a,{href:"#","data-page":t,onClick:e.change,children:e.label})})}var p=s(23);function m(e){var t=Math.ceil(e.info.total/20),s=parseInt(e.info.page),c=["\xab",s-2,s-1,s,s+1,s+2,"\xbb"].filter((function(e){return 0<e&&e<=t||"string"===typeof e})),a=function(t){t.preventDefault();var s=t.target.getAttribute("data-page");l("search",{query:e.info.searched,page:s},e.setters)};return Object(o.jsx)(p.a,{"aria-label":"results navigation",id:"pagination-bar",children:c.map((function(e,c){return Object(o.jsx)(g,{current:s,label:e,final:t,change:a},c)}))})}var O=function(){a.a.useEffect((function(){window.scrollTo(0,0)}));var e=a.a.useState([]),t=Object(r.a)(e,2),s=t[0],c=t[1],i=a.a.useState("initial"),n=Object(r.a)(i,2),l=n[0],d=n[1],j=a.a.useState(1),b=Object(r.a)(j,2),h=b[0],g=b[1],p=a.a.useState(0),O=Object(r.a)(p,2),x=O[0],v=O[1],y=a.a.useState(""),w=Object(r.a)(y,2),S=w[0],N=w[1],k=a.a.useState(""),C=Object(r.a)(k,2),q=C[0],D=C[1];return Object(o.jsxs)("div",{id:"app",children:[Object(o.jsxs)("header",{id:"header",children:[Object(o.jsxs)("h1",{children:["Film",Object(o.jsx)("span",{id:"find",children:"Find"})]}),Object(o.jsx)(u,{setters:{results:c,success:d,page:g,total:v,query:N,searched:D},query:S})]}),Object(o.jsx)(f,{info:{results:s,success:l,searched:q,total:x,page:h}}),"success"===l&&Object(o.jsx)(m,{info:{page:h,total:x,searched:q},setters:{results:c,success:d,page:g,total:v}})]})},x=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,24)).then((function(t){var s=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,n=t.getTTFB;s(e),c(e),a(e),i(e),n(e)}))};s(19);n.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(O,{})}),document.getElementById("root")),x()}},[[20,1,2]]]);
//# sourceMappingURL=main.e50b0629.chunk.js.map